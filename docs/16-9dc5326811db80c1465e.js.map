{"version":3,"sources":["webpack:///./node_modules/react-plotly.js/factory.js"],"names":["Object","defineProperty","exports","value","Plotly","PlotlyComponent","_Component","props","_this","instance","Constructor","TypeError","_classCallCheck","this","self","call","_typeof","_assertThisInitialized","_possibleConstructorReturn","_getPrototypeOf","p","Promise","resolve","resizeHandler","handlers","syncWindowResize","bind","syncEventHandlers","attachUpdateEvents","getRef","handleUpdate","figureCallback","updatePlotly","subClass","superClass","prototype","create","constructor","writable","configurable","_setPrototypeOf","_inherits","protoProps","staticProps","_defineProperties","_createClass","key","shouldInvokeResizeHandler","figureCallbackFunction","shouldAttachUpdateEvents","_this2","then","error","el","unmounting","Error","reason","react","data","layout","config","frames","err","console","onError","onInitialized","prevProps","numPrevFrames","length","numNextFrames","figureChanged","revisionDefined","revision","revisionChanged","onUpdate","onPurge","isBrowser","window","removeEventListener","removeUpdateEvents","purge","_this3","removeListener","updateEvents","forEach","updateEvent","on","_this4","callback","_this$el","_transitionData","_frames","invoke","_this5","useResizeHandler","Plots","resize","addEventListener","debug","gd","_this6","eventNames","eventName","prop","handler","hasHandler","Boolean","addEventHandler","removeEventHandler","getPlotlyEventName","toLowerCase","_react","createElement","id","divId","style","ref","className","Component","propTypes","_propTypes","arrayOf","object","number","func","bool","string","defaultProps","position","display","obj","__esModule","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","hasOwnProperty","desc","set","_interopRequireWildcard","WeakMap","Symbol","iterator","target","i","descriptor","enumerable","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError"],"mappings":"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","file":"16-9dc5326811db80c1465e.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = plotComponentFactory;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n} // The naming convention is:\n//   - events are attached as `'plotly_' + eventName.toLowerCase()`\n//   - react props are `'on' + eventName`\n\n\nvar eventNames = ['AfterExport', 'AfterPlot', 'Animated', 'AnimatingFrame', 'AnimationInterrupted', 'AutoSize', 'BeforeExport', 'ButtonClicked', 'Click', 'ClickAnnotation', 'Deselect', 'DoubleClick', 'Framework', 'Hover', 'LegendClick', 'LegendDoubleClick', 'Relayout', 'Restyle', 'Redraw', 'Selected', 'Selecting', 'SliderChange', 'SliderEnd', 'SliderStart', 'Transitioning', 'TransitionInterrupted', 'Unhover'];\nvar updateEvents = ['plotly_restyle', 'plotly_redraw', 'plotly_relayout', 'plotly_doubleclick', 'plotly_animated']; // Check if a window is available since SSR (server-side rendering)\n// breaks unnecessarily if you try to use it server-side.\n\nvar isBrowser = typeof window !== 'undefined';\n\nfunction plotComponentFactory(Plotly) {\n  var PlotlyComponent = /*#__PURE__*/function (_Component) {\n    _inherits(PlotlyComponent, _Component);\n\n    function PlotlyComponent(props) {\n      var _this;\n\n      _classCallCheck(this, PlotlyComponent);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(PlotlyComponent).call(this, props));\n      _this.p = Promise.resolve();\n      _this.resizeHandler = null;\n      _this.handlers = {};\n      _this.syncWindowResize = _this.syncWindowResize.bind(_assertThisInitialized(_this));\n      _this.syncEventHandlers = _this.syncEventHandlers.bind(_assertThisInitialized(_this));\n      _this.attachUpdateEvents = _this.attachUpdateEvents.bind(_assertThisInitialized(_this));\n      _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n      _this.handleUpdate = _this.handleUpdate.bind(_assertThisInitialized(_this));\n      _this.figureCallback = _this.figureCallback.bind(_assertThisInitialized(_this));\n      _this.updatePlotly = _this.updatePlotly.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    _createClass(PlotlyComponent, [{\n      key: \"updatePlotly\",\n      value: function updatePlotly(shouldInvokeResizeHandler, figureCallbackFunction, shouldAttachUpdateEvents) {\n        var _this2 = this;\n\n        this.p = this.p.then(function () {\n          if (!_this2.el) {\n            var error;\n\n            if (_this2.unmounting) {\n              error = new Error('Component is unmounting');\n              error.reason = 'unmounting';\n            } else {\n              error = new Error('Missing element reference');\n            }\n\n            throw error;\n          }\n\n          return Plotly.react(_this2.el, {\n            data: _this2.props.data,\n            layout: _this2.props.layout,\n            config: _this2.props.config,\n            frames: _this2.props.frames\n          });\n        }).then(function () {\n          return _this2.syncWindowResize(shouldInvokeResizeHandler);\n        }).then(this.syncEventHandlers).then(function () {\n          return _this2.figureCallback(figureCallbackFunction);\n        }).then(shouldAttachUpdateEvents ? this.attachUpdateEvents : function () {})[\"catch\"](function (err) {\n          if (err.reason === 'unmounting') {\n            return;\n          }\n\n          console.error('Error while plotting:', err); // eslint-disable-line no-console\n\n          if (_this2.props.onError) {\n            _this2.props.onError(err);\n          }\n        });\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.unmounting = false;\n        this.updatePlotly(true, this.props.onInitialized, true);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        this.unmounting = false; // frames *always* changes identity so fall back to check length only :(\n\n        var numPrevFrames = prevProps.frames && prevProps.frames.length ? prevProps.frames.length : 0;\n        var numNextFrames = this.props.frames && this.props.frames.length ? this.props.frames.length : 0;\n        var figureChanged = !(prevProps.layout === this.props.layout && prevProps.data === this.props.data && prevProps.config === this.props.config && numNextFrames === numPrevFrames);\n        var revisionDefined = prevProps.revision !== void 0;\n        var revisionChanged = prevProps.revision !== this.props.revision;\n\n        if (!figureChanged && (!revisionDefined || revisionDefined && !revisionChanged)) {\n          return;\n        }\n\n        this.updatePlotly(false, this.props.onUpdate, false);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unmounting = true;\n        this.figureCallback(this.props.onPurge);\n\n        if (this.resizeHandler && isBrowser) {\n          window.removeEventListener('resize', this.resizeHandler);\n          this.resizeHandler = null;\n        }\n\n        this.removeUpdateEvents();\n        Plotly.purge(this.el);\n      }\n    }, {\n      key: \"attachUpdateEvents\",\n      value: function attachUpdateEvents() {\n        var _this3 = this;\n\n        if (!this.el || !this.el.removeListener) {\n          return;\n        }\n\n        updateEvents.forEach(function (updateEvent) {\n          _this3.el.on(updateEvent, _this3.handleUpdate);\n        });\n      }\n    }, {\n      key: \"removeUpdateEvents\",\n      value: function removeUpdateEvents() {\n        var _this4 = this;\n\n        if (!this.el || !this.el.removeListener) {\n          return;\n        }\n\n        updateEvents.forEach(function (updateEvent) {\n          _this4.el.removeListener(updateEvent, _this4.handleUpdate);\n        });\n      }\n    }, {\n      key: \"handleUpdate\",\n      value: function handleUpdate() {\n        this.figureCallback(this.props.onUpdate);\n      }\n    }, {\n      key: \"figureCallback\",\n      value: function figureCallback(callback) {\n        if (typeof callback === 'function') {\n          var _this$el = this.el,\n              data = _this$el.data,\n              layout = _this$el.layout;\n          var frames = this.el._transitionData ? this.el._transitionData._frames : null;\n          var figure = {\n            data: data,\n            layout: layout,\n            frames: frames\n          };\n          callback(figure, this.el);\n        }\n      }\n    }, {\n      key: \"syncWindowResize\",\n      value: function syncWindowResize(invoke) {\n        var _this5 = this;\n\n        if (!isBrowser) {\n          return;\n        }\n\n        if (this.props.useResizeHandler && !this.resizeHandler) {\n          this.resizeHandler = function () {\n            return Plotly.Plots.resize(_this5.el);\n          };\n\n          window.addEventListener('resize', this.resizeHandler);\n\n          if (invoke) {\n            this.resizeHandler();\n          }\n        } else if (!this.props.useResizeHandler && this.resizeHandler) {\n          window.removeEventListener('resize', this.resizeHandler);\n          this.resizeHandler = null;\n        }\n      }\n    }, {\n      key: \"getRef\",\n      value: function getRef(el) {\n        this.el = el;\n\n        if (this.props.debug && isBrowser) {\n          window.gd = this.el;\n        }\n      } // Attach and remove event handlers as they're added or removed from props:\n\n    }, {\n      key: \"syncEventHandlers\",\n      value: function syncEventHandlers() {\n        var _this6 = this;\n\n        eventNames.forEach(function (eventName) {\n          var prop = _this6.props['on' + eventName];\n          var handler = _this6.handlers[eventName];\n          var hasHandler = Boolean(handler);\n\n          if (prop && !hasHandler) {\n            _this6.addEventHandler(eventName, prop);\n          } else if (!prop && hasHandler) {\n            // Needs to be removed:\n            _this6.removeEventHandler(eventName);\n          } else if (prop && hasHandler && prop !== handler) {\n            // replace the handler\n            _this6.removeEventHandler(eventName);\n\n            _this6.addEventHandler(eventName, prop);\n          }\n        });\n      }\n    }, {\n      key: \"addEventHandler\",\n      value: function addEventHandler(eventName, prop) {\n        this.handlers[eventName] = prop;\n        this.el.on(this.getPlotlyEventName(eventName), this.handlers[eventName]);\n      }\n    }, {\n      key: \"removeEventHandler\",\n      value: function removeEventHandler(eventName) {\n        this.el.removeListener(this.getPlotlyEventName(eventName), this.handlers[eventName]);\n        delete this.handlers[eventName];\n      }\n    }, {\n      key: \"getPlotlyEventName\",\n      value: function getPlotlyEventName(eventName) {\n        return 'plotly_' + eventName.toLowerCase();\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return _react[\"default\"].createElement(\"div\", {\n          id: this.props.divId,\n          style: this.props.style,\n          ref: this.getRef,\n          className: this.props.className\n        });\n      }\n    }]);\n\n    return PlotlyComponent;\n  }(_react.Component);\n\n  PlotlyComponent.propTypes = {\n    data: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].object),\n    config: _propTypes[\"default\"].object,\n    layout: _propTypes[\"default\"].object,\n    frames: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].object),\n    revision: _propTypes[\"default\"].number,\n    onInitialized: _propTypes[\"default\"].func,\n    onPurge: _propTypes[\"default\"].func,\n    onError: _propTypes[\"default\"].func,\n    onUpdate: _propTypes[\"default\"].func,\n    debug: _propTypes[\"default\"].bool,\n    style: _propTypes[\"default\"].object,\n    className: _propTypes[\"default\"].string,\n    useResizeHandler: _propTypes[\"default\"].bool,\n    divId: _propTypes[\"default\"].string\n  };\n  eventNames.forEach(function (eventName) {\n    PlotlyComponent.propTypes['on' + eventName] = _propTypes[\"default\"].func;\n  });\n  PlotlyComponent.defaultProps = {\n    debug: false,\n    useResizeHandler: false,\n    data: [],\n    style: {\n      position: 'relative',\n      display: 'inline-block'\n    }\n  };\n  return PlotlyComponent;\n}"],"sourceRoot":""}