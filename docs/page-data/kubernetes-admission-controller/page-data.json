{"componentChunkName":"component---src-templates-post-tsx","path":"/kubernetes-admission-controller","result":{"data":{"site":{"siteMetadata":{"title":"Antonin Stefanutti","description":"/dev/null","social":{"github":"https://github.com/astefanutti","twitter":"https://twitter.com/a7tti"}}},"post":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Developing a Kubernetes Admission Controller with Telepresence\",\n  \"date\": \"2021-12-20T00:00:00.000Z\",\n  \"published\": true,\n  \"slug\": \"kubernetes-admission-controller\",\n  \"tags\": [\"Kubernetes\"],\n  \"excerpt\": \"Admission webhook is a powerful extension mechanism, that enables to plug in admission controllers, dynamically into the Kubernetes API server, to intercept requests. The following post demonstrates how to use Telepresence, to intercept requests from the API server to the admission webhook service, tunnel them to the admission controller running locally, and speed the development cycle up.\\n\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"section\", null, mdx(\"p\", {\n    parentName: \"section\"\n  }, \"Admission webhook is a powerful extension mechanism, that enables to plug in admission controllers, dynamically into the Kubernetes \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kubernetes.io/docs/concepts/security/controlling-access/#admission-control\"\n  }), \"API access control\"), \", to intercept requests.\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"The flexibility of admission webhook allows to address a large spectrum of use cases, like configuration management, governance, and security, as described in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kubernetes.io/blog/2019/03/21/a-guide-to-kubernetes-admission-controllers/#why-do-i-need-admission-controllers\"\n  }), \"Why do I need admission controllers?\"), \".\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"Two types of admission webhooks can be created, \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"mutating\"), \" and \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"validating\"), \" admission webhooks\", mdx(\"label\", {\n    htmlFor: \"sd-conversion-webhooks-also-exist-to-convert-custom\",\n    className: \"margin-toggle sidenote-number\"\n  }), mdx(\"input\", {\n    type: \"checkbox\",\n    id: \"sd-conversion-webhooks-also-exist-to-convert-custom\",\n    className: \"margin-toggle\"\n  }), mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"sidenote\"\n  }), \"Conversion webhooks also exist, to convert custom resources between versions, and for which using Telepresence applies as well.\"), \".\\nDeclaring a mutating (resp. validating) admission webhook is as simple as creating a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MutatingWebhookConfiguration\"), \" (resp. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ValidatingAdmissionWebhooks\"), \") resource, e.g.:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"yaml\",\n    \"data-index\": \"0\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"apiVersion\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"admissionregistration.k8s.io/v1\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"kind\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"MutatingWebhookConfiguration\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"metadata\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"name\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"webhook\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"webhooks\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  - \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"name\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"webhook\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"clientConfig\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"      \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"service\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"        \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"name\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"controller\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"        \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"namespace\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"admission\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"        \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"path\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"/mutate\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"rules\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"      - \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"apiGroups\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": [\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"]\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"        \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"apiVersions\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": [\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"v1\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"]\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"        \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"resources\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": [\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"pods\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"]\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"        \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-8 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"operations\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": [\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"CREATE\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \", \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"UPDATE\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"]\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"With that example, The API server makes an HTTPS POST request to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"https//controller.admission.svc/mutate\"), \" URL, with a JSON-encoded \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AdmissionReview\"), \" in the request body, each time a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"write\"), \" request (POST, PUT or PATCH) to the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#pod-v1-core\"\n  }), \"Pod endpoint\"), \" is received by the API server.\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"The admission controller hosting the webhook endpoint must be accessible from within the cluster, exposed as a Service\", mdx(\"label\", {\n    htmlFor: \"sd-it-can-also-be-deployed-externally-and-referenced\",\n    className: \"margin-toggle sidenote-number\"\n  }), mdx(\"input\", {\n    type: \"checkbox\",\n    id: \"sd-it-can-also-be-deployed-externally-and-referenced\",\n    className: \"margin-toggle\"\n  }), mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"sidenote\"\n  }), \"It can also be deployed externally and referenced with the \", mdx(\"inlineCode\", {\n    parentName: \"span\"\n  }, \"URL\"), \" field, in which case the host should be an IP address, or resolved via an external DNS (\", mdx(\"inlineCode\", {\n    parentName: \"span\"\n  }, \"kube-apiserver\"), \" cannot resolve in-cluster DNS as that would be a layering violation).\"), \".\\nThis is diametrically opposed to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"standard\"), \" controllers, or \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://operatorframework.io\"\n  }), \"operators\"), \", that call the API server.\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"That difference matters during the development cycle, as the controller, running locally, is not directly accessible from the API server.\\nThe container image has to be built, push to a registry, and the controller deployment rolled out.\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"The following post demonstrates how to use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.telepresence.io\"\n  }), \"Telepresence\"), mdx(\"label\", {\n    htmlFor: \"sd-telepresence-is-a-cncf-sandbox-project-that\",\n    className: \"margin-toggle sidenote-number\"\n  }), mdx(\"input\", {\n    type: \"checkbox\",\n    id: \"sd-telepresence-is-a-cncf-sandbox-project-that\",\n    className: \"margin-toggle\"\n  }), mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"sidenote\"\n  }), \"Telepresence is a CNCF sandbox project, that enables to connect a local machine seamlessly to a Kubernetes cluster, via a two-way proxying mechanism.\"), \", to intercept requests from the API server to the admission webhook service, tunnel them to the admission controller running locally, and ultimately speed the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.telepresence.io/docs/v2.4/concepts/devloop/\"\n  }), \"inner development loop\"), \" up.\")), mdx(\"section\", null, mdx(\"h2\", _extends({\n    parentName: \"section\"\n  }, {\n    \"id\": \"kubebuilder\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#kubebuilder\",\n    \"aria-label\": \"kubebuilder permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Kubebuilder\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"First things first, let\\u2019s create an admission controller project.\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"There is no unique way to implement an admission webhook.\\nThe contract is ultimately defined by the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#webhook-request-and-response\"\n  }), \"webhook REST API\"), \", that can be implemented with any stack.\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"That being said, the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kubernetes-sigs/kubebuilder\"\n  }), \"Kubebuilder\"), \" project provides tools that scafold projects, for implementing Kubernetes API and webhook.\\nSo let\\u2019s use it to create our admission controller\\u2026\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"1) Install the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kubebuilder\"), \" CLI:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"1\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ curl -L -o kubebuilder https://go.kubebuilder.io/dl/3.2.0/\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"$(go env GOOS)\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"/\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"$(go env GOARCH)\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ chmod +x kubebuilder \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-8\"\n  }), \"&&\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" mv kubebuilder /usr/local/bin/\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"2) Scafold the project:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"2\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ mkdir webhook \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-8\"\n  }), \"&&\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"cd\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" webhook\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubebuilder init --repo github.com/user/webhook\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"3) Define the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Hooked\"), \" CRD, and the associated mutating webhook:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"3\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubebuilder create api --version v1 --kind Hooked\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubebuilder create webhook --version v1 --kind Hooked --defaulting\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ make manifests\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"It\\u2019s also possible to define webhooks for core types.\\nHowever, Kubebuilder does not support scafolding webhook in that case.\\nSo the generated project must be modified manually, as documented in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://book.kubebuilder.io/reference/webhook-for-core-types.html\"\n  }), \"admission webhook for core types\"), \".\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"4) Install the generated CRD manifest:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"4\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubectl apply -k config/crd\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"5) Create a namespace:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"5\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubectl create ns webhook\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubectl config set-context --current --namespace=webhook\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"6) Deploy the generated webhook manifests:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"6\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"$(cd config/webhook \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-8\"\n  }), \"&&\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \" kustomize edit \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"set\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \" namespace webhook)\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubectl apply -k config/webhook\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"7) Create a sample \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Hooked\"), \" resource:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"7\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubectl apply -f config/samples/_v1_hooked.yaml\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Error from server (InternalError): error when creating \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"config/samples/_v1_hooked.yaml\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Internal error occurred: failed calling webhook \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"mhooked.kb.io\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Post \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"https://webhook-service.webhook.svc:443/mutate-my-domain-v1-hooked?timeout=10s\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"      no endpoints available \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-7 grvsc-tiaGIi-8\"\n  }), \"for\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" service \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"webhook-service\\\"\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"The API server calls the service configured into the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MutatingWebhookConfiguration\"), \" resource.\\nThis fails as expected, since we haven\\u2019t deployed any endpoint yet, to actually serve the request.\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"In production, that endpoint is generally exposed by the admission controller, deployed in-cluster.\\nHowever, during the development phase, we want the requests to be processed by the admission controller, running locally.\")), mdx(\"section\", null, mdx(\"h2\", _extends({\n    parentName: \"section\"\n  }, {\n    \"id\": \"telepresence\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#telepresence\",\n    \"aria-label\": \"telepresence permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Telepresence\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"Thanks to Telepresence, it\\u2019s possible to have the requests issued by the API server tunneled to the local machine.\\nLet\\u2019s use it to intercept the requests received by the webhook service, deployed in the cluster, and tunnel them to the admission controller started locally.\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"1) Install the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"telepresence\"), \" CLI:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"8\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ curl -fL https://app.getambassador.io/download/tel2/darwin/amd64/2.4.9/telepresence -o /usr/local/bin/telepresence\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"2) Connect Telepresence to the cluster, and check the status:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"9\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ telepresence connect\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"Launching Telepresence Root Daemon\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"Launching Telepresence User Daemon\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ telepresence status\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"Root Daemon: Running\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Version   \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" v2.4.9 (api 3)\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  DNS       \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Remote IP       \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" REDACTED\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Exclude suffixes: [.arpa .com .io .net .org .ru]\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Include suffixes: []\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Timeout         \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" 4s\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Also Proxy \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" (0 subnets)\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Never Proxy: (1 subnets)\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"User Daemon: Running\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Version           \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" v2.4.9 (api 3)\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Ambassador Cloud  \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" Logged out\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Status            \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" Connected\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Kubernetes server \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" REDACTED\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Kubernetes context: REDACTED\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Telepresence proxy: ON (networking to the cluster is enabled)\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"  Intercepts        \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" 0 total\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"3) Telepresence requires a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Deployment\"), \", as interception target, so instead of relying on the real controller deployment, let\\u2019s create a compatible mock:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"10\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubectl create deployment webhook --image=k8s.gcr.io/echoserver:1.10 --port 9443\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubectl \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"set\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" selector svc webhook-service app=webhook\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"4) Intercept the webhook service:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"11\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ telepresence intercept webhook --service webhook-service --port 9443\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"Using Deployment webhook\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"intercepted\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Intercept name    \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" webhook\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    State             \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" ACTIVE\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Workload kind     \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" Deployment\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Destination       \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" 127.0.0.1:9443\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Volume Mount Error: sshfs is not installed on your \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-7 grvsc-tiaGIi-13 grvsc-tiaGIi-b\"\n  }), \"local\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" machine\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"    Intercepting      \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" all TCP connections\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"5) Generate the webhook server certificate, as the API server mandates HTTPS:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"12\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-3 grvsc-tzLR1K-4 grvsc-tiaGIi-3 grvsc-tiaGIi-i\"\n  }), \"# Generate the CA certificate\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ openssl req -new -x509 -nodes -days 365 -keyout ca.key -out ca.crt -subj \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"/CN=webhook\\\"\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-3 grvsc-tzLR1K-4 grvsc-tiaGIi-3 grvsc-tiaGIi-i\"\n  }), \"# Generate the webhook server certificate\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ openssl req -nodes -new -sha256 -keyout tls.key -out tls.csr -subj \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"/CN=webhook-service.webhook.svc\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" \\\\\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"-config \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"<(cat /etc/ssl/openssl.cnf <(printf \\\"[SAN]\\\\nsubjectAltName=DNS:webhook-service.webhook.svc\\\"))\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" -reqexts SAN\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-3 grvsc-tzLR1K-4 grvsc-tiaGIi-3 grvsc-tiaGIi-i\"\n  }), \"# Sign the server certificate with the generated CA\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ openssl x509 -req -days 365 -in tls.csr -out tls.crt -CA ca.crt -CAkey ca.key -CAcreateserial \\\\\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"-extfile \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"<(cat /etc/ssl/openssl.cnf <(printf \\\"[SAN]\\\\nsubjectAltName=DNS:webhook-service.webhook.svc\\\"))\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" -extensions SAN\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"6) Patch the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MutatingWebhookConfiguration\"), \" resource, to set the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"caBundle\"), \" field with the generated CA certificate:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"13\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubectl patch mutatingwebhookconfiguration mutating-webhook-configuration --type=\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"'json'\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" \\\\\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"-p=\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"[{'op': 'add', 'path': '/webhooks/0/clientConfig/caBundle', 'value':'$(cat ca.crt \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-8\"\n  }), \"|\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \" base64 \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-8\"\n  }), \"|\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \" tr -d '\\\\n')'}]\\\"\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"7) Update the controller manager, to source certificates from the project directory:\"), mdx(\"div\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"gatsby-code-title\"\n  }), \"main.go\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"go\",\n    \"data-index\": \"14\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-7\"\n  }), \"mgr\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \", \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-7\"\n  }), \"err\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-8\"\n  }), \":=\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \" ctrl.\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"NewManager\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"(ctrl.\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-3 grvsc-tiaGIi-7\"\n  }), \"GetConfigOrDie\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"(), ctrl.Options{\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"\\tCertDir: \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\".\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \",\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"\\t\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-3 grvsc-tzLR1K-4 grvsc-tiaGIi-3 grvsc-tiaGIi-i\"\n  }), \"// ...\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"})\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"8) Start the admission controller:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"15\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ go run main.go\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"9) Create a sample \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Hooked\"), \" resource:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"sh\",\n    \"data-index\": \"16\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"$ kubectl apply -f config/samples/_v1_hooked.yaml\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"hooked.my.domain/hooked-sample created\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"10) Check the admission controller output:\"), mdx(\"pre\", _extends({\n    parentName: \"section\"\n  }, {\n    \"className\": \"grvsc-container light-visual-studio grvsc-ps-tzLR1K grvsc-ps-tiaGIi\",\n    \"data-language\": \"json\",\n    \"data-index\": \"17\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"grvsc-code\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"2021-12-23\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"T\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"15\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"03\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"08.088\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"+\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"0100\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"\\tDEBUG\\tcontroller-runtime.webhook.webhooks\\treceived request\\t{\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"webhook\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"/mutate-my-domain-v1-hooked\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \", \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"UID\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"528ccce7-6404-499d-8959-42e620a211a4\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \", \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"kind\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"my.domain/v1, Kind=Hooked\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \", \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"resource\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": {\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"group\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"my.domain\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \",\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"version\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"v1\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \",\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"resource\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"hookeds\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"}}\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"2021-12-23\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"T\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"15\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"03\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"08.088\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"+\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"0100\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"\\tINFO\\thooked-resource\\tdefault\\t{\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"name\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"hooked-sample\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"}\"))), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"grvsc-line\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-source\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"2021-12-23\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"T\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"15\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"03\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \":\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"08.088\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"+\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"0100\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"\\tDEBUG\\tcontroller-runtime.webhook.webhooks\\twrote response\\t{\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"webhook\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"/mutate-my-domain-v1-hooked\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \", \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"code\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-5 grvsc-tzLR1K-8 grvsc-tiaGIi-6\"\n  }), \"200\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \", \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"reason\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \", \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"UID\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-12 grvsc-tzLR1K-5 grvsc-tiaGIi-11\"\n  }), \"\\\"528ccce7-6404-499d-8959-42e620a211a4\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \", \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-6 grvsc-tzLR1K-5 grvsc-tiaGIi-8\"\n  }), \"\\\"allowed\\\"\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \": \"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-4 grvsc-tzLR1K-7 grvsc-tiaGIi-5\"\n  }), \"true\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"grvsc-txIA7N-1 grvsc-tzLR1K-1 grvsc-tiaGIi-1\"\n  }), \"}\"))))), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"Hooray, the admission controller running locally is called!\"), mdx(\"p\", {\n    parentName: \"section\"\n  }, \"Happy coding!\")), mdx(\"style\", {\n    \"className\": \"grvsc-styles\"\n  }, \"\\n  .grvsc-container {\\n    overflow: auto;\\n    position: relative;\\n    -webkit-overflow-scrolling: touch;\\n    padding-top: 1rem;\\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\\n    padding-bottom: 1rem;\\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\\n    border-radius: 8px;\\n    border-radius: var(--grvsc-border-radius, 8px);\\n    font-feature-settings: normal;\\n    line-height: 1.4;\\n  }\\n  \\n  .grvsc-code {\\n    display: table;\\n  }\\n  \\n  .grvsc-line {\\n    display: table-row;\\n    box-sizing: border-box;\\n    width: 100%;\\n    position: relative;\\n  }\\n  \\n  .grvsc-line > * {\\n    position: relative;\\n  }\\n  \\n  .grvsc-gutter-pad {\\n    display: table-cell;\\n    padding-left: 0.75rem;\\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\\n  }\\n  \\n  .grvsc-gutter {\\n    display: table-cell;\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    user-select: none;\\n  }\\n  \\n  .grvsc-gutter::before {\\n    content: attr(data-content);\\n  }\\n  \\n  .grvsc-source {\\n    display: table-cell;\\n    padding-left: 1.5rem;\\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\\n    padding-right: 1.5rem;\\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\\n  }\\n  \\n  .grvsc-source:empty::after {\\n    content: ' ';\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    user-select: none;\\n  }\\n  \\n  .grvsc-gutter + .grvsc-source {\\n    padding-left: 0.75rem;\\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\\n  }\\n  \\n  /* Line transformer styles */\\n  \\n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\\n    content: ' ';\\n    position: absolute;\\n    width: 100%;\\n  }\\n  \\n  .grvsc-line-diff-add::before {\\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\\n  }\\n  \\n  .grvsc-line-diff-del::before {\\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\\n  }\\n  \\n  .grvsc-line-number {\\n    padding: 0 2px;\\n    text-align: right;\\n    opacity: 0.7;\\n  }\\n  \\n  .light-visual-studio {\\n    background-color: #FFFFFF;\\n    color: #000000;\\n  }\\n  .light-visual-studio .grvsc-txIA7N-8 { color: #800000; }\\n  .light-visual-studio .grvsc-txIA7N-1 { color: #000000; }\\n  .light-visual-studio .grvsc-txIA7N-4 { color: #0000FF; }\\n  .light-visual-studio .grvsc-txIA7N-12 { color: #A31515; }\\n  .light-visual-studio .grvsc-txIA7N-3 { color: #008000; }\\n  .light-visual-studio .grvsc-txIA7N-5 { color: #09885A; }\\n  .light-visual-studio .grvsc-txIA7N-6 { color: #0451A5; }\\n  .light-visual-studio .grvsc-line-highlighted::before {\\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\\n  }\\n  body[class=dark-mode] .grvsc-ps-tzLR1K {\\n    background-color: #242424;\\n    color: #cccccc;\\n  }\\n  body[class=dark-mode] .grvsc-ps-tzLR1K .grvsc-tzLR1K-3 { color: #FFC66D; }\\n  body[class=dark-mode] .grvsc-ps-tzLR1K .grvsc-tzLR1K-1 { color: #CCCCCC; }\\n  body[class=dark-mode] .grvsc-ps-tzLR1K .grvsc-tzLR1K-5 { color: #6A8759; }\\n  body[class=dark-mode] .grvsc-ps-tzLR1K .grvsc-tzLR1K-7 { color: #CC8242; }\\n  body[class=dark-mode] .grvsc-ps-tzLR1K .grvsc-tzLR1K-4 { color: #707070; }\\n  body[class=dark-mode] .grvsc-ps-tzLR1K .grvsc-tzLR1K-8 { color: #7A9EC2; }\\n  body[class=dark-mode] .grvsc-ps-tzLR1K .grvsc-line-highlighted::before {\\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\\n  }\\n  body[class=light-mode] .grvsc-ps-tiaGIi { background-color: #FDF6E3; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-i { font-style: italic; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-b { font-weight: bold; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-7 { color: #268BD2; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-1 { color: #657B83; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-11 { color: #2AA198; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-8 { color: #859900; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-13 { color: #073642; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-3 { color: #93A1A1; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-6 { color: #D33682; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-tiaGIi-5 { color: #B58900; }\\n  body[class=light-mode] .grvsc-ps-tiaGIi .grvsc-line-highlighted::before {\\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\\n  }\\n\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Developing a Kubernetes Admission Controller with Telepresence","slug":"kubernetes-admission-controller","date":"Dec 20, 2021","tags":["Kubernetes"]},"excerpt":"Admission webhook is a powerful extension mechanism, that enables to plug in admission controllers, dynamically into the Kubernetes API server, to intercept requests. The following post demonstrates how to use Telepresence, to intercept requests from the API server to the admission webhook service, tunnel them to the admission controller running locally, and speed the development cycle up.\n"}},"pageContext":{"slug":"kubernetes-admission-controller"}},"staticQueryHashes":["712016698"]}